<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>NBA GM Simulator - Playoffs</title>
  <link rel="stylesheet" href="playoffs.css" />
</head>
<body>
  <div class="app">
    <header class="top-bar">
      <div class="top-bar-left">
        <div class="nba-logo">NBA</div>
        <div class="gm-tag">Playoffs Mode</div>
      </div>
      <div class="top-bar-center">
        <button class="nav-tab po-nav-tab active" data-po-tab="home">Home</button>
        <button class="nav-tab po-nav-tab" data-po-tab="bracket">Bracket</button>
        <button class="nav-tab po-nav-tab" data-po-tab="stats">Stats</button>
        <button class="nav-tab po-nav-tab" data-po-tab="news">News</button>
      </div>
      <div class="top-bar-right" id="poTopBarMeta">
        <div class="pill">ì‹œë¦¬ì¦ˆ ì •ë³´ê°€ ì¤€ë¹„ë˜ë©´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤</div>
      </div>
    </header>

    <section id="screen-playoffs" class="screen active">
      <div class="content-shell">
        <div class="po-screen-title-row">
          <div>
            <div class="po-screen-title" id="poScreenTitle">í”Œë ˆì´ì˜¤í”„</div>
            <div class="po-screen-sub" id="poScreenSub">
              ì•„ì§ ì‹œë¦¬ì¦ˆê°€ ì‹œì‘ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.
            </div>
          </div>
          <div class="po-screen-sub">
            <span class="label">ëª¨ë“œ:</span>
            <strong>í”Œë ˆì´ì˜¤í”„ ì „ìš© í™”ë©´</strong>
          </div>
        </div>

        <div class="po-tabs-container">
          <section id="po-tab-home" class="po-tab active">
            <div class="po-home-layout">
              <div class="po-series-card" id="poSeriesCard">
                <div class="po-series-round-label" id="poSeriesRoundLabel">ì‹œë¦¬ì¦ˆ ì •ë³´ ì—†ìŒ</div>
                <div class="po-series-matchup-row" id="poSeriesMatchup"></div>
                <div class="po-series-meta" id="poSeriesMeta"></div>
                <div class="po-series-chips" id="poSeriesChips"></div>
              </div>

              <div class="po-home-actions-card">
                <div class="season-actions-title">í”Œë ˆì´ì˜¤í”„ ê´€ë¦¬</div>
                <div class="season-actions-desc">
                  ì‹œë¦¬ì¦ˆ ë°ì´í„°ê°€ ì—°ê²°ë˜ë©´ ë§ì¶¤ ì „ìˆ , ê²½ê¸° ì‹œë®¬ë ˆì´ì…˜, ìƒëŒ€ ì •ë³´ ë“±ì„
                  ì—¬ê¸°ì—ì„œ ë°”ë¡œ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                </div>

                <div class="po-home-actions-row">
                  <button id="poBtnTactics" class="btn" disabled>ğŸ¯ ìƒëŒ€ ë§ì¶¤ ì „ìˆ </button>
                  <button id="poBtnPlayGame" class="btn btn-primary" disabled>â–¶ ê²Œì„ ì§„í–‰</button>
                  <button id="poBtnOppInfo" class="btn" disabled>ğŸ” ìƒëŒ€ ì •ë³´</button>
                </div>
                <p class="po-note">
                  í•„ìš”í•œ ë°ì´í„°ê°€ ë¡œë“œë˜ë©´ ë²„íŠ¼ì´ ìë™ìœ¼ë¡œ í™œì„±í™”ë©ë‹ˆë‹¤.
                </p>
              </div>
            </div>
          </section>

          <section id="po-tab-bracket" class="po-tab">
            <div class="po-bracket-grid" id="poBracketGrid">
              <div class="empty-state">ë¸Œë¼ì¼“ ì •ë³´ê°€ ì•„ì§ ì—†ìŠµë‹ˆë‹¤.</div>
            </div>
          </section>

          <section id="po-tab-stats" class="po-tab">
            <div class="stats-card">
              <h3>Playoffs Stats Leaders</h3>
              <p class="muted">í”Œë ˆì´ì˜¤í”„ ê²½ê¸° ê¸°ë¡ì´ ìˆ˜ì§‘ë˜ë©´ ìë™ìœ¼ë¡œ ì§‘ê³„ë©ë‹ˆë‹¤.</p>

              <div class="stats-controls" id="poStatsFilters"></div>

              <table class="stats-table" aria-label="Playoff stats table">
                <thead>
                  <tr>
                    <th>#</th>
                    <th>ì„ ìˆ˜</th>
                    <th>íŒ€</th>
                    <th>G</th>
                    <th>MIN</th>
                    <th>PTS</th>
                    <th>REB</th>
                    <th>AST</th>
                    <th>FG%</th>
                  </tr>
                </thead>
                <tbody id="poStatsTableBody">
                  <tr class="empty-state-row">
                    <td colspan="9">í”Œë ˆì´ì˜¤í”„ ìŠ¤íƒ¯ì´ ì—†ìŠµë‹ˆë‹¤.</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </section>

          <section id="po-tab-news" class="po-tab">
            <div class="news-card">
              <h3>Playoffs News Center</h3>
              <p class="muted">
                ê²½ê¸° ê²°ê³¼, ë¸Œë¼ì¼“ ë³€ë™, íŒ€ ë¦¬í¬íŠ¸ê°€ ì—°ê²°ë˜ë©´ ìë™ìœ¼ë¡œ í‘œì‹œë©ë‹ˆë‹¤.
              </p>
              <div id="poNewsFeed">
                <div class="empty-state">ë‰´ìŠ¤ê°€ ì•„ì§ ì—†ìŠµë‹ˆë‹¤.</div>
              </div>
            </div>
          </section>
        </div>
      </div>
    </section>
  </div>

  <script>
    const poNavTabs = document.querySelectorAll(".po-nav-tab");
    const poTabs = {
      home: document.getElementById("po-tab-home"),
      bracket: document.getElementById("po-tab-bracket"),
      stats: document.getElementById("po-tab-stats"),
      news: document.getElementById("po-tab-news"),
    };

    poNavTabs.forEach((btn) => {
      btn.addEventListener("click", () => {
        const tab = btn.dataset.poTab;
        poNavTabs.forEach((b) => b.classList.remove("active"));
        btn.classList.add("active");
        Object.values(poTabs).forEach((el) => el.classList.remove("active"));
        if (poTabs[tab]) {
          poTabs[tab].classList.add("active");
        }
      });
    });

    const samplePlayoffState = {
      roundLabel: "Conference 1st Round",
      matchup: {
        userTeam: { name: "Team Alpha", seed: 2, record: "2-0" },
        opponent: { name: "Team Beta", seed: 7, record: "0-2" },
      },
      format: "Best of 7",
      nextGame: "Game 3 Â· í™ˆ",
      tipoff: "Tip-off 19:30",
      notes: ["ìµœê·¼ 2ê²½ê¸° ì—°ì† ìŠ¹ë¦¬", "Paint ë“ì  ë¹„ì¤‘ 52%"],
      topBar: [
        { label: "ì‹œë¦¬ì¦ˆ", value: "1R vs Team Beta" },
        { label: "í˜„ì¬ ìŠ¤ì½”ì–´", value: "2â€“0 ë¦¬ë“œ" },
        { label: "ë‹¤ìŒ ê²½ê¸°", value: "Game 3 Â· í™ˆ" },
      ],
      bracket: [
        {
          conference: "Eastern Conference",
          rounds: [
            {
              title: "1R",
              series: [
                {
                  lines: [
                    { seed: 1, team: "Team A", record: 4 },
                    { seed: 8, team: "Team H", record: 1 },
                  ],
                  status: "Series Won 4â€“1",
                },
              ],
            },
            { title: "Semis", series: [] },
            { title: "Finals", series: [] },
          ],
        },
        {
          conference: "Western Conference",
          rounds: [
            {
              title: "1R",
              series: [
                {
                  lines: [
                    { seed: 2, team: "Team Alpha", record: 2 },
                    { seed: 7, team: "Team Beta", record: 0 },
                  ],
                  status: "Series in progress",
                },
              ],
            },
            { title: "Semis", series: [] },
            { title: "Finals", series: [] },
          ],
        },
      ],
      statsCategories: ["PTS", "REB", "AST", "FG%"],
      stats: [
        {
          rank: 1,
          player: "Player One",
          team: "ALP",
          games: 2,
          minutes: 35.2,
          points: 28.5,
          rebounds: 6.0,
          assists: 7.0,
          fg: 52.1,
          detail: "G",
        },
      ],
      news: [
        {
          headline: "í”Œë ˆì´ì˜¤í”„ ì‹œë¦¬ì¦ˆê°€ ì‹œì‘ë˜ì—ˆìŠµë‹ˆë‹¤.",
          meta: "ë¦¬ê·¸ ì—…ë°ì´íŠ¸",
          body: "ì‹œë¦¬ì¦ˆ ì§„í–‰ ìƒí™©ì€ ê²Œì„ì´ ëë‚˜ë©´ ìë™ìœ¼ë¡œ ê°±ì‹ ë©ë‹ˆë‹¤.",
        },
      ],
    };

    function renderTopBar(meta = []) {
      const container = document.getElementById("poTopBarMeta");
      container.innerHTML = "";
      if (!meta.length) {
        container.innerHTML = '<div class="pill">ì‹œë¦¬ì¦ˆ ì •ë³´ê°€ ì¤€ë¹„ë˜ë©´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤</div>';
        return;
      }
      meta.forEach((item) => {
        const pill = document.createElement("div");
        pill.className = "pill" + (item.strong ? " pill-strong" : "");
        pill.innerHTML = `${item.label}: <strong>&nbsp;${item.value}</strong>`;
        container.appendChild(pill);
      });
    }

    function renderSeriesCard(state) {
      const roundLabel = document.getElementById("poSeriesRoundLabel");
      const matchupRow = document.getElementById("poSeriesMatchup");
      const meta = document.getElementById("poSeriesMeta");
      const chips = document.getElementById("poSeriesChips");
      const title = document.getElementById("poScreenTitle");
      const sub = document.getElementById("poScreenSub");

      if (!state) {
        roundLabel.textContent = "ì‹œë¦¬ì¦ˆ ì •ë³´ ì—†ìŒ";
        matchupRow.innerHTML = '<div class="empty-state">ì‹œë¦¬ì¦ˆ ë§¤ì¹˜ì—…ì´ ì—†ìŠµë‹ˆë‹¤.</div>';
        meta.textContent = "";
        chips.innerHTML = "";
        title.textContent = "í”Œë ˆì´ì˜¤í”„";
        sub.textContent = "ì•„ì§ ì‹œë¦¬ì¦ˆê°€ ì‹œì‘ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.";
        return;
      }

      roundLabel.textContent = state.roundLabel || "ì‹œë¦¬ì¦ˆ";
      title.textContent = `í”Œë ˆì´ì˜¤í”„ Â· ${state.roundLabel || "ì‹œë¦¬ì¦ˆ"}`;
      sub.textContent = `${state.matchup?.userTeam?.name || "Home"} vs ${
        state.matchup?.opponent?.name || "Away"
      }`;

      matchupRow.innerHTML = "";
      const userBlock = document.createElement("div");
      userBlock.className = "po-team-block po-team-user";
      userBlock.innerHTML = `
        <div class="po-team-name">
          ${state.matchup?.userTeam?.name || "Home Team"}
          <span>(${state.matchup?.userTeam?.seed ?? "-"})</span>
        </div>
        <div class="po-team-record">${state.matchup?.userTeam?.record || "-"}</div>
      `;

      const oppBlock = document.createElement("div");
      oppBlock.className = "po-team-block po-team-opponent";
      oppBlock.innerHTML = `
        <div class="po-team-name">
          ${state.matchup?.opponent?.name || "Away Team"}
          <span>(${state.matchup?.opponent?.seed ?? "-"})</span>
        </div>
        <div class="po-team-record">${state.matchup?.opponent?.record || "-"}</div>
      `;

      const vs = document.createElement("div");
      vs.className = "po-vs";
      vs.textContent = "vs";

      matchupRow.appendChild(userBlock);
      matchupRow.appendChild(vs);
      matchupRow.appendChild(oppBlock);

      meta.innerHTML = "";
      [state.format, state.nextGame, state.tipoff]
        .filter(Boolean)
        .forEach((text, index, arr) => {
          const span = document.createElement("span");
          span.textContent = text;
          meta.appendChild(span);
          if (index < arr.length - 1) {
            const dot = document.createElement("span");
            dot.className = "dot";
            meta.appendChild(dot);
          }
        });

      chips.innerHTML = "";
      (state.notes || []).forEach((note, idx) => {
        const chip = document.createElement("span");
        chip.className = "po-series-chip" + (idx === 0 ? " po-series-chip-highlight" : "");
        chip.textContent = note;
        chips.appendChild(chip);
      });

      const buttons = [
        document.getElementById("poBtnTactics"),
        document.getElementById("poBtnPlayGame"),
        document.getElementById("poBtnOppInfo"),
      ];
      buttons.forEach((btn) => (btn.disabled = false));
    }

    function renderBracket(bracketData = []) {
      const grid = document.getElementById("poBracketGrid");
      grid.innerHTML = "";
      if (!bracketData.length) {
        grid.innerHTML = '<div class="empty-state">ë¸Œë¼ì¼“ ì •ë³´ê°€ ì•„ì§ ì—†ìŠµë‹ˆë‹¤.</div>';
        return;
      }

      bracketData.forEach((conf) => {
        const column = document.createElement("div");
        column.className = "po-bracket-column";
        column.innerHTML = `
          <div class="po-bracket-title-row">
            <h3>${conf.conference}</h3>
            <span class="label">ì‹œë¦¬ì¦ˆ ì§„í–‰ ìƒí™©</span>
          </div>
        `;
        const rounds = document.createElement("div");
        rounds.className = "po-bracket-rounds";

        (conf.rounds || []).forEach((round) => {
          const roundEl = document.createElement("div");
          roundEl.className = "po-bracket-round";
          roundEl.innerHTML = `<div class="po-round-title">${round.title}</div>`;

          if (!round.series?.length) {
            const placeholder = document.createElement("div");
            placeholder.className = "muted";
            placeholder.textContent = "ë§¤ì¹˜ì—…ì´ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤.";
            roundEl.appendChild(placeholder);
          }

          (round.series || []).forEach((series) => {
            const seriesEl = document.createElement("div");
            seriesEl.className = "po-series-mini";
            series.lines?.forEach((line) => {
              const lineEl = document.createElement("div");
              lineEl.className = "po-series-line";
              lineEl.innerHTML = `
                <span class="seed">${line.seed ?? "-"}</span>
                <span class="team-code">${line.team || "-"}</span>
                <span class="record">${line.record ?? "-"}</span>
              `;
              seriesEl.appendChild(lineEl);
            });
            if (series.status) {
              const status = document.createElement("div");
              status.className = "series-status";
              status.textContent = series.status;
              seriesEl.appendChild(status);
            }
            roundEl.appendChild(seriesEl);
          });

          rounds.appendChild(roundEl);
        });

        column.appendChild(rounds);
        grid.appendChild(column);
      });
    }

    function renderStats(categories = [], stats = []) {
      const filters = document.getElementById("poStatsFilters");
      const tbody = document.getElementById("poStatsTableBody");
      filters.innerHTML = "";

      categories.forEach((cat, idx) => {
        const btn = document.createElement("button");
        btn.className = "btn btn-ghost" + (idx === 0 ? " active" : "");
        btn.textContent = cat;
        filters.appendChild(btn);
      });

      tbody.innerHTML = "";
      if (!stats.length) {
        tbody.innerHTML = '<tr class="empty-state-row"><td colspan="9">í”Œë ˆì´ì˜¤í”„ ìŠ¤íƒ¯ì´ ì—†ìŠµë‹ˆë‹¤.</td></tr>';
        return;
      }

      stats.forEach((row) => {
        const tr = document.createElement("tr");
        tr.innerHTML = `
          <td>${row.rank}</td>
          <td class="stats-player-name">${row.player} <span class="stats-team-tag">${row.team} Â· ${row.detail}</span></td>
          <td>${row.team}</td>
          <td>${row.games}</td>
          <td>${row.minutes}</td>
          <td class="stat-highlight">${row.points}</td>
          <td>${row.rebounds}</td>
          <td>${row.assists}</td>
          <td>${row.fg}</td>
        `;
        tbody.appendChild(tr);
      });
    }

    function renderNews(news = []) {
      const feed = document.getElementById("poNewsFeed");
      feed.innerHTML = "";
      if (!news.length) {
        feed.innerHTML = '<div class="empty-state">ë‰´ìŠ¤ê°€ ì•„ì§ ì—†ìŠµë‹ˆë‹¤.</div>';
        return;
      }

      news.forEach((item, index) => {
        const wrapper = document.createElement("div");
        wrapper.className = "news-item";
        wrapper.innerHTML = `
          <div class="news-headline">${item.headline}</div>
          <div class="news-meta">${item.meta}</div>
          <div class="news-body">${item.body}</div>
        `;
        feed.appendChild(wrapper);
        if (index < news.length - 1) {
          const divider = document.createElement("div");
          divider.className = "news-divider";
          feed.appendChild(divider);
        }
      });
    }

    // ê¸°ë³¸ ë Œë”ë§: ì‹¤ì œ ë°ì´í„°ê°€ ì—†ì„ ê²½ìš° ìƒ˜í”Œ êµ¬ì¡°ë¥¼ ì‚¬ìš©í•˜ì—¬ í™”ë©´ì„ ìœ ì§€í•©ë‹ˆë‹¤.
    renderTopBar(samplePlayoffState.topBar);
    renderSeriesCard(samplePlayoffState);
    renderBracket(samplePlayoffState.bracket);
    renderStats(samplePlayoffState.statsCategories, samplePlayoffState.stats);
    renderNews(samplePlayoffState.news);
  </script>
</body>
</html>
